# Runtime profile
APP_ENV=development
ENFORCE_STRICT_SECURITY=0
APP_DOMAIN=localhost

# App/Auth
JWT_SECRET=replace-with-32-plus-char-secret
INTERNAL_SERVICE_SECRET=replace-with-32-plus-char-internal-secret
EMAIL_VERIFY_REQUIRED=0
EXPOSE_VERIFICATION_TOKEN=1
ADMIN_BOOTSTRAP_EMAIL=admin@example.com
DB_AUTO_CREATE=0
OAUTH_GOOGLE_CLIENT_ID=
OAUTH_GOOGLE_CLIENT_SECRET=
OAUTH_GOOGLE_REDIRECT_URI=http://localhost:8000/auth/google/callback

# Database
POSTGRES_USER=app
POSTGRES_PASSWORD=replace-with-strong-db-password
POSTGRES_DB=spotify_youtube
PGDATA=/var/lib/postgresql/data/pgdata
DATABASE_URL=postgresql+psycopg://app:replace-with-strong-db-password@postgres:5432/spotify_youtube
# Optional: secret-file variants (used by docker-compose.prod.yml)
# JWT_SECRET_FILE=/run/secrets/jwt_secret
# INTERNAL_SERVICE_SECRET_FILE=/run/secrets/internal_service_secret
# DATABASE_URL_FILE=/run/secrets/database_url

# Queue
CELERY_BROKER_URL=redis://redis:6379/0
CELERY_RESULT_BACKEND=redis://redis:6379/1

# Object Storage
MINIO_ROOT_USER=replace-with-minio-user
MINIO_ROOT_PASSWORD=replace-with-minio-password
S3_ENDPOINT=http://minio:9000
S3_ACCESS_KEY=replace-with-minio-user
S3_SECRET_KEY=replace-with-minio-password
S3_BUCKET=songs
PUBLIC_STREAM_BASE=http://localhost:8005

# Frontend
FRONTEND_INTERNAL_API_BASE=http://api-gateway:8000
FRONTEND_PUBLIC_API_BASE=http://localhost:8000
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://127.0.0.1:3000,http://localhost:3001,http://127.0.0.1:3001

# Session cookies
REFRESH_COOKIE_NAME=refresh_token
REFRESH_COOKIE_SECURE=0
REFRESH_COOKIE_DOMAIN=
REFRESH_COOKIE_SAMESITE=lax
REFRESH_COOKIE_MAX_AGE_SECONDS=1209600

# Stream token
STREAM_URL_TTL_SECONDS=90

# Rate limits
RATE_LIMIT_SIGNIN_IP_PER_MIN=20
RATE_LIMIT_SIGNIN_EMAIL_PER_MIN=10
RATE_LIMIT_SIGNUP_IP_PER_HOUR=30
RATE_LIMIT_SEARCH_PER_MIN=120
RATE_LIMIT_IMPORT_PER_HOUR=120

# Service Names (optional overrides)
API_GATEWAY_SERVICE_NAME=api-gateway
AUTH_SERVICE_NAME=auth-service
CATALOG_SERVICE_NAME=catalog-service
SEARCH_SERVICE_NAME=search-service
DOWNLOAD_SERVICE_NAME=download-service
STREAM_SERVICE_NAME=stream-service
ADMIN_SERVICE_NAME=admin-service

# Internal URLs
AUTH_SERVICE_URL=http://auth-service:8000
SEARCH_SERVICE_URL=http://search-service:8000
DOWNLOAD_SERVICE_URL=http://download-service:8000
CATALOG_SERVICE_URL=http://catalog-service:8000
STREAM_SERVICE_URL=http://stream-service:8000
ADMIN_SERVICE_URL=http://admin-service:8000
